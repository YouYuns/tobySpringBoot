### âœ… ì˜ì¡´ ì˜¤ë¸Œì íŠ¸ ì¶”ê°€

#### ğŸ“Œ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ ì“°ëŠ” ë°©ì‹ê³¼ ë¬´ì—‡ì´ ë‹¤ë¥¼ê¹Œ?
    - ê°€ì¥ ì¤‘ìš”í•œê²ƒì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ í• ìˆ˜ ìˆëŠ” ì¼ë“¤ì„ ê³„ì† ì ìš©ê°€ëŠ¥í•œ ê¸°ë³¸êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ ë†“ëŠ”ê²ƒì´ë‹¤.
    - ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì´ì•ˆì— ì–´ë–¤ íƒ€ì…ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ ë•Œ ë”± í•œë²ˆë§Œ ë§Œë“ ë‹¤
        - ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ê°€ì§€ê³  ìˆëŠ” í•„ìš”ë¡œ í•˜ëŠ” ì•ì— ì—¬ëŸ¬ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ HelloControllerë¥¼ ê³„ì† ë§Œë“¤ì–´ì„œ ìš”ì²­í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ HelloControllerì˜¤ë¸Œì íŠ¸ë¥¼ ê³„ì† ë™ì¼í•œ ì˜¤ë¸Œì íŠ¸ë¥¼ ë¦¬í„´ì„ í•´ì¤€ë‹¤.
        - ì´ë ‡ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì˜¤ë¸Œì íŠ¸ë¥¼ ë”± í•˜ë‚˜ë§Œ ë§Œë“¤ê³  ì¬ì‚¬ìš© í•˜ëŠ” ë°©ì‹ì„ "ì‹±ê¸€í†¤ íŒ¨í„´"ì´ë¼ê³ í•œë‹¤.
###
âœ… ì½”ë“œë¡œ ì˜ì¡´ ì˜¤ë¸Œì íŠ¸ ì¶”ê°€(DI)
####
 HelloControllerì•ˆì—ì„œ ëª¨ë“  ìš”ì²­ì„ ë‹¤ ì²˜ë¦¬í•˜ë©´ ì¢‹ê² ì§€ë§Œ ì—­í• ì— ë”°ë¼ì„œ ì˜¤ë¸Œì íŠ¸ë¥¼ ë¶„ë¦¬í•´ì„œ ë§Œë“¤ê³  í•„ìš”í• ë–„ ìš”ì²­í•  ìˆ˜ ìˆë‹¤.
####
 ![img_2.png](img_2.png)
####

1. SimpleHelloService í´ë˜ìŠ¤ ë§Œë“¤ê¸°
```java
public class SimpleHelloService {
   public String sayHello(String name){
        return "Hello" + name;
    }
}

```

2. HelloControllerì— ì˜ì¡´ì„± ì¶”ê°€í•˜ê¸° ìƒì„±ì ì£¼ì… ë°©ì‹ìœ¼ë¡œ ë§Œë“¤ê¸°

```java
import java.util.Objects;

public class HelloController {

    private final HelloService helloService;

    public HelloController(HelloService helloService) {
        this.helloService = helloService;
    }

    public String hello(String name) {
        return helloService.sayHello(Objects.requireNonNull(name));
    }
}
```

3. HelloServiceíƒ€ì…ì˜ í´ë˜ìŠ¤ë„ ë¹ˆìœ¼ë¡œ ë“±ë¡ì„ í•´ì¤˜ì•¼ëœë‹¤.
   - applicationContext.registerBean(HelloService.class)ë¼ê³ ë§Œ ë„£ìœ¼ë©´ ì•ˆëœë‹¤ ì¸í„°í˜ì´ìŠ¤ì´ê¸° ë•Œë¬¸ì´ë‹¤.
   - ê·¸ë˜ì„œ SimpleHelloService.classë¡œ ë„£ì–´ì¤€ë‹¤.
   - SimpleHelloServiceë„ ìŠ¤í”„ë§ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ì„œ ì»¨í…Œì´ë„ˆê°€ ì§ì ‘ ìƒì„±ì„ í•˜ë„ë¡ ë§Œë“ ë‹¤.
```java

import com.example.tobyspringboot.HelloController;
import com.example.tobyspringboot.HelloService;
import com.example.tobyspringboot.SimpleHelloService;
import org.springframework.context.support.GenericApplicationContext;
import org.springframework.http.HttpMethod;
import org.springframework.http.HttpStatus;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class TobySpringBootApplication {

    public static void main(String[] args) {
        GenericApplicationContext applicationContext = new GenericApplicationContext();


        applicationContext.registerBean(HelloController.class);
        applicationContext.registerBean(SimpleHelloService.class);
        applicationContext.refresh();

        ServletWebServerFactory serverFactory = new TomcatServletWebServerFactory();
        WebServer webServer = serverFactory.getWebServer((ServletContextInitializer)
                servletContext -> {
                    // ì € HelloControllerë¼ëŠ” ê²ƒì€ ë§¤ ìš”ì²­ë§ˆë‹¤ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ í•„ìš”ê°€ ì—†ë‹¤ ê³„ì† ì¬ì‚¬ìš©í•´ë„ëœë‹¤.
                    servletContext.addServlet("frontcontroller", new HttpServlet() {
                        @Override
                        public void service(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {
                            //ì¸ì¦ , ë³´ì•ˆ , ë‹¤êµ­ì–´, ê³µí†µ ê¸°ëŠ¥
                            if (req.getRequestURI().equals("/hello") && req.getMethod().equals(HttpMethod.GET.name())) {
                                String name = req.getParameter("name");

                                HelloController helloController = applicationContext.getBean(HelloController.class);
                                String ret = helloController.hello(name);

                                res.setContentType(MediaType.TEXT_PLAIN); //í—¤ë”
                                res.getWriter().println(ret);//ë°”ë””   
                            } else {
                                res.setStatus(HttpStatus.NOT_FOUND.value());
                            }
                        }
                    }).addMapping("/*");
                });
        webServer.start();
    }
}
```