### âœ… ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ì‚¬ìš©
- ì¼ë‹¨ ì§€ê¸ˆê¹Œì§€ ë§Œë“¤ì—ˆë˜ ê±¸ ê·¸ë¦¼ìœ¼ë¡œ ì‚´í´ë³´ì
![img.png](img.png)
  1. ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆë¥¼ ì½”ë“œì—ì„œ ë„ì› ë‹¤.
  2. ì„œë¸”ë¦¿ì„ ëª¨ë“  ìš”ì²­ì„ ë‹¤ ë°›ì•„ì„œ ë’¤ì—ìˆëŠ” ì˜¤ë¸Œì íŠ¸í•œí…Œ ì‘ì—…ì„ ìœ„ì„í•˜ê³  í•„ìš”í•˜ë‹¤ë©´ íŒŒë¼ë¯¸í„°ê°™ì€ ê±¸ ë°”ì¸ë”©í•´ì„œ ì „ë‹¬í•˜ëŠ” í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ì—ˆë”°.
  3. ë’¤ì— HelloControllerë¼ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±í–ˆë‹¤.

####
- ì´ì œ HelloControllerë¼ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ì•ˆì— ì§‘ì–´ ë„£ì–´ë³´ì
![img_1.png](img_1.png)
    1. ì´ì œ ì»¨í…Œì´ë„ˆê°€ 2ê°œë‹¤ ë˜ì—ˆë‹¤.
    2. ì´ì œëŠ” í”„ë¡ íŠ¸ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì§ì ‘ HelloControllerë¥¼ ì§ì ‘ ìƒì„±í•˜ê³  ë³€ìˆ˜ì— ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  ìŠ¤í”„ë§ì»¨í…Œì´ë„ˆë¥¼ ì´ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½ í•´ë³´ì
    3. ì»¨í…Œì´ë„ˆë¼ëŠ” ê±´ ì—¬ëŸ¬ ì˜¤ë¸Œì íŠ¸ë¥¼ ê°€ì§€ê³  ìˆë‹¤ê°€ í•„ìš”í• ë•Œ ì‚¬ìš©ë˜ì–´ì§€ë„ë¡ ê´€ë¦¬ë¥¼ í•´ì£¼ëŠ” ê±°ë‹¤.

### âœ…ì½”ë“œë¡œ ë§Œë“¤ì–´ë³´ê¸°

1. setHeaderë¼ëŠ” ë©”ì„œë“œ ëŒ€ì‹  ë°”ë¡œ  res.setContentType(MediaType.TEXT_PLAIN)ì‚¬ìš©ê°€ëŠ¥
####
2. ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ì–´ì„œ ê±°ê¸°ë‹¤ê°€ HelloControllerë¼ëŠ” ê²ƒì„ ì§‘ì–´ ë„£ê³  ê·¸ HelloControllerë¥¼ ìš°ë¦¬ê°€ ì§ì ‘ ìƒì„±ëŒ€ì‹ 
   - new HelloController ì§€ìš°ê¸°
####
3. ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆí•œí…Œ ê°€ì ¸ì˜¨ë‹¤ìŒì— ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ëœë‹¤.
####
4. ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ì–´ë³´ë ¤ë©´ ë¨¼ì € ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ëŒ€í‘œí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ ìˆë‹¤ (applicationContext)
    - applicationContext : ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì–´ë–¤ ë¹ˆì´ ë“¤ì–´ê°ˆ ê²ƒì¸ê°€ë¶€í„° ì‹œì‘í•´ì„œ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼ë°©ë²• ë“± ë§ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ê¸°ëŠ¥ì„ ë‹´ê³ ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì´ êµ¬í˜„í•´ì•¼ë˜ëŠ”ê²Œ ìŠ¤í”„ë§ì˜ ApplicationContextì¸ë° 
    - ê²°êµ­ ì´ applicationContextëŠ” ìŠ¤í”„ë§ì»¨í…Œì´ë„ˆê°€ ë˜ëŠ”ê²ƒì´ë‹¤.
    - applicationContextì¤‘ì—ì„œ ì½”ë“œë¥¼ ì†ì‰½ê²Œ ë§Œë“¤ì–´ ì§€ê²Œ í• ìˆ˜ ìˆëŠ”ê²Œ í•˜ë‚˜ìˆëŠ”ë° ê·¸ê²Œ GenericApplicationContextì´ë‹¤.
####
5. ì„œë¸”ë¦¿ ê°™ì€ ê²½ìš°ëŠ” ì§ì ‘ newí•´ì„œ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“ ë‹¤ìŒì— addí–ˆëŠ”ë° ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ì–´ë–¤ í´ë˜ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ë¹ˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•  ê²ƒì¸ê°€ ë©”íƒ€ ì •ë³´ë¥¼ ë„£ì–´ì£¼ëŠ” ë°©ì‹ ë³´í†µ êµ¬ì„±ì„ í•œë‹¤.
####
6. applicationContext.registerBeanìœ¼ë¡œ í´ë˜ìŠ¤ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡ì‹œí‚¨ë‹¤. 
####
7. ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì´ ì•ˆì— ë¹ˆì´ ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ ì§€ëŠ”ê°€ ì–´ë–¤ í´ë˜ìŠ¤ë¡œ ë¹ˆì„ ë§Œë“¤ê²ƒì¸ê°€ ì´ëŸ° ì •ë³´ë¥¼ ê°–ê²Œ ìˆê²Œ ë˜ë©´ ì§„ì§œ ë¹ˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“ ë‹¤.
####
8. ì²˜ìŒ ìê¸°ê°€ ê°–ê³ ìˆëŠ” êµ¬ì„±ì •ë³´ë¥¼ ì´ìš©í•´ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ì‘ì—… applicationContext.regresh()ë¥¼ ì´ìš©í•´ì„œ í•˜ë©´ ApplicationContextê°€ ë¹ˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ë‹¤ë§Œë“¤ì–´ì¤€ë‹¤.
####
9. getBeanë¥¼ ì´ìš©í•´ì„œ ë¹ˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ê°€ì ¸ì˜¤ë©´ ì´ íƒ€ì…ì´ HelloControllerí´ë˜ìŠ¤ íƒ€ì…ì´ ëœë‹¤(ë’¤ì—ì„œ ì§€ì •í•œ í´ë˜ìŠ¤íƒ€ì…)

```java

import com.example.tobyspringboot.HelloController;
import org.springframework.context.support.GenericApplicationContext;
import org.springframework.http.HttpMethod;
import org.springframework.http.HttpStatus;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class TobySpringBootApplication {

    public static void main(String[] args) {
        GenericApplicationContext applicationContext = new GenericApplicationContext();


        applicationContext.registerBean(HelloController.class);
        applicationContext.refresh();
        
        ServletWebServerFactory serverFactory = new TomcatServletWebServerFactory();
        WebServer webServer = serverFactory.getWebServer((ServletContextInitializer)
                servletContext -> {
                    // ì € HelloControllerë¼ëŠ” ê²ƒì€ ë§¤ ìš”ì²­ë§ˆë‹¤ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ í•„ìš”ê°€ ì—†ë‹¤ ê³„ì† ì¬ì‚¬ìš©í•´ë„ëœë‹¤.
                    servletContext.addServlet("frontcontroller", new HttpServlet() {
                        @Override
                        public void service(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {
                            //ì¸ì¦ , ë³´ì•ˆ , ë‹¤êµ­ì–´, ê³µí†µ ê¸°ëŠ¥
                            if (req.getRequestURI().equals("/hello") && req.getMethod().equals(HttpMethod.GET.name())) {
                                String name = req.getParameter("name");
                    
                               HelloController helloController  =  applicationContext.getBean(HelloController.class);
                                String ret = helloController.hello(name);

                                res.setContentType(MediaType.TEXT_PLAIN); //í—¤ë”
                                res.getWriter().println(ret);//ë°”ë””   
                            } else {
                                res.setStatus(HttpStatus.NOT_FOUND.value());
                            }
                        }
                    }).addMapping("/*");
                });
        webServer.start();
    }
}
```

#### ğŸ“Œ ì •ë¦¬ 
    - ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ì½”ë“œë¥¼ ì´ìš©í•´ì„œ ìƒì„±ì„ í•˜ê³  ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ê²Œ ì–´ë–¤ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“œëŠ”ë° í•„ìš”í•œ ì •ë³´ë¥¼ ì „ë‹¬ì„ í•´ì£¼ê³  ì»¨í…Œì´ë„ˆê°€ ì´ˆê¸°í™” ë  ë•Œ ê·¸ ì •ë³´ë¥¼ ì´ìš©í•´ì„œ ì˜¤ë¸Œì íŠ¸ë¥´ë¥´ ë§Œë“¤ì–´ë‘ê²Œ í–ˆë‹¤.
    - ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ í†µí•´ì„œ ì»¨í…Œì´ë„ˆê°€ ê°€ì§€ê³  ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ getBeanì´ë¼ëŠ” ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ ì „ë‹¬ë°›ì€ ë‹¤ìŒì— ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜



