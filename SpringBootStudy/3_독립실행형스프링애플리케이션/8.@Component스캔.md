### β… @Component μ¤μΊ”

1. μ•„λ μ½”λ“λ” ν΄λμ¤ μ •λ³΄λ¥Ό Register Beanλ©”μ„λ“μ— λ„κ²¨μ£Όκ±°λ‚ ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό λ§λ“¤μ–΄μ„ μ§μ ‘ λΉ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ” λ°©λ²•μ΄λ‹¤.
2. ν•μ§€λ§ μ΄κ²ƒλ³΄λ‹¤ λ” κ°„κ²°ν•κ² λΉμ„ λ“±λ΅ν•΄λ³΄μ
```java

import com.example.tobyspringboot.HelloController;
import com.example.tobyspringboot.HelloService;
import com.example.tobyspringboot.SimpleHelloService;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.support.GenericApplicationContext;
import org.springframework.http.HttpMethod;
import org.springframework.http.HttpStatus;
import org.springframework.web.context.support.GenericWebApplicationContext;
import org.springframework.web.servlet.DispatcherServlet;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@Configuration
public class TobySpringBootApplication {

    //ν©ν† λ¦¬ λ©”μ„λ“ λ§λ“¤κΈ° -> HelloControllerνƒ€μ…μ λΉμ¤λΈμ νΈκ°€ λ§λ“¤μ–΄μ§„λ‹¤ -> μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ μ‚¬μ©ν•κ² λ‹¤
    //λ‚΄κ°€ μλ°”μ½”λ“λ΅ HelloControllerλ¥Ό λ§λ“¤κ±΄λ° κ·Έλ–„ ν•„μ”ν• μμ΅΄ μ¤λΈμ νΈλ¥Ό νλΌλ―Έν„°λ΅ λ„κ²¨μ¤ν•λ©΄λλ‹¤.
    //μ΄μ •λ³΄κ°€ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—κ² μ •λ³΄λ¥Ό μ „λ‹¬ν•κΈ°μ„ν•΄μ„ μ• λ…Έν…μ΄μ…μ„ μ „λ‹¬ν•΄μ¤€λ‹¤. -> @Bean
    @Bean
    public HelloController helloController(HelloService helloService) {
        return new HelloController(helloService);
    }

    //ν©ν† λ¦¬ λ©”μ„λ“ λ§λ“¤κΈ° -> HelloServiceνƒ€μ…μ λΉμ¤λΈμ νΈκ°€ λ§λ“¤μ–΄μ§„λ‹¤ -> μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ μ‚¬μ©ν•κ² λ‹¤
    @Bean
    public HelloService helloService() {
        return new SimpleHelloService();
    }

    public static void main(String[] args) {
        //μ¤ν”„λ§ μ»¨ν…μ΄λ„λ¥Ό λ§λ“λ” μ‘μ—…
        AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext() {

            @Override
            protected void onRefresh() {
                super.onRefresh();
                //μ„λΈ”λ¦Ώμ„ λ“±λ΅ν•λ” μ‘μ—…
                WebServer webServer = serverFactory.getWebServer((ServletContextInitializer)
                        servletContext -> {
                            // μ € HelloControllerλΌλ” κ²ƒμ€ λ§¤ μ”μ²­λ§λ‹¤ μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤ ν•„μ”κ°€ μ—†λ‹¤ κ³„μ† μ¬μ‚¬μ©ν•΄λ„λλ‹¤.
                            servletContext.addServlet("dispatcherServlet",
                                    new DispatcherServlet(this)
                            ).addMapping("/*");
                        });
                webServer.start();
            }
        };
//        applicationContext.registerBean(HelloController.class);
//        applicationContext.registerBean(SimpleHelloService.class);
        applicationContext.register(com.example.tobyspringboot.TobySpringBootApplication.class);
        applicationContext.refresh();

        //μ„λΈ”λ¦Ώ μ»¨ν…μ΄λ„λ¥Ό μ½”λ“λ΅ μ‹¤ν–‰
        ServletWebServerFactory serverFactory = new TomcatServletWebServerFactory();
    }
}
``` 

3. λ…μ‹μ μΌλ΅ λΉμ„ λ“±λ΅ν•λ”κ±Έ μ½”λ“λ΅ μ‘μ„±ν•κ±°λ‚ μ„¤μ • νμΌμ„ λ§λ“λ” λ€μ‹ μ— ν΄λμ¤μ— μ• λ…Έν…μ΄μ…μ„ μ΄μ©ν•΄μ„ λ μ΄λΈ”μ„ λ¶™μ—¬μ£Όλ” κ²ƒμ΄λ‹¤.
4. κ·Έλ¬λ©΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μλ” μ»΄ν¬λ„νΈ μ¤μΊλ„κ°€ μλ”λ° @ComponentλΌλ” μ• λ…Έν…μ΄μ…μ΄ λ¶™μ€ λ¨λ“  κ±Έ μ°Ύμ•„μ„ λΉμΌλ΅ λ“±λ΅μ„ ν•΄μ¤€λ‹¤.

```java


import org.springframework.context.annotation.ComponentScan;

@Configuration
@ComponentScan
public class TobySpringBootApplication {


    public static void main(String[] args) {
        //μ¤ν”„λ§ μ»¨ν…μ΄λ„λ¥Ό λ§λ“λ” μ‘μ—…
        AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext() {

            @Override
            protected void onRefresh() {
                super.onRefresh();
                //μ„λΈ”λ¦Ώμ„ λ“±λ΅ν•λ” μ‘μ—…
                WebServer webServer = serverFactory.getWebServer((ServletContextInitializer)
                        servletContext -> {
                            // μ € HelloControllerλΌλ” κ²ƒμ€ λ§¤ μ”μ²­λ§λ‹¤ μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤ ν•„μ”κ°€ μ—†λ‹¤ κ³„μ† μ¬μ‚¬μ©ν•΄λ„λλ‹¤.
                            servletContext.addServlet("dispatcherServlet",
                                    new DispatcherServlet(this)
                            ).addMapping("/*");
                        });
                webServer.start();
            }
        };
//        applicationContext.registerBean(HelloController.class);
//        applicationContext.registerBean(SimpleHelloService.class);
        applicationContext.register(com.example.tobyspringboot.TobySpringBootApplication.class);
        applicationContext.refresh();

        //μ„λΈ”λ¦Ώ μ»¨ν…μ΄λ„λ¥Ό μ½”λ“λ΅ μ‹¤ν–‰
        ServletWebServerFactory serverFactory = new TomcatServletWebServerFactory();
    }
}
```

```java
import org.springframework.stereotype.Component;
import org.springframework.web.bind.annotation.RestController;

@RestController
@Component
public class HelloController {


    private final HelloService helloService;

    public HelloController(HelloService helloService) {
        this.helloService = helloService;
    }

    @GetMapping("/hello")
    public String hello(String name) {
        return helloService.sayHello(Objects.requireNonNull(name));
    }
}
```

```java
import org.springframework.stereotype.Component;

@Component
public interface HelloService {
    String sayHello(String name);
}

```
### π“ ComponentScan 
    - μ΄ ν΄λμ¤κ°€ μλ” ν¨ν‚¤μ§€λ¶€ν„° μ‹μ‘ν•΄μ„ ν•μ„ ν¨ν‚¤μ§€κΉμ§€ μ°Ύμ•„μ„ μ»΄ν¬λ„νΈ μ• λ…Έν…μ΄μ…μ„ λ¨λ‘ μ°Ύμ•„μ„ λΉμΌλ΅ λ“±λ΅ν•λ‹¤.
    - λΉμ„ λ“±λ΅ν• λ• ν•„μ”ν•λ‹¤λ©΄ μμ΅΄ μ¤λΈμ νΈλ¥Ό μ°Ύμ•„λ‚΄κ³  μƒμ„±μλ¥Ό λ§λ“¤λ• νλΌλ―Έν„°λ¥Ό λ„κ²¨μ£ΌκΈ°λ„ ν•λ‹¤.
    - μ¥μ  : μƒλ΅μ΄ λΉμ„ λ§λ“¤μ–΄μ„ μ¶”κ°€ν•  λ• λ§¤λ² κµ¬μ„±μ •λ³΄λ¥Ό λ‹¤μ‹ λ“±λ΅ν•΄ μ¤„ ν•„μ”κ°€ μ—†μ΄ λ‚΄κ°€ μ‘μ„±ν•λ” ν΄λμ¤κ°€ λΉμΌλ΅ λ“±λ΅λμ–΄μ„ μ‚¬μ©λμ–΄ μ§κ±°λΌλ©΄ κ°„λ‹¨ν•κ² @Component μ• λ…Έν…μ΄μ…λ§ λ¶™μ—¬μ£Όλ©΄λλ‹¤.
    - λ‹¨μ  : @Componentλ¶™μ€ ν΄λμ¤κ°€ λ§μ•„μ§€λ©΄ μ–΄λ–¤κ² μ •ν™•ν λ“±λ΅λμ–΄μλ”μ§€ μ°Ύμ•„λ³΄κΈ°κ°€ νλ“¤λ‹¤ ν•μ§€λ§ μ¥μ μ΄ ν›¨μ”¬ ν¬κ³  λ¨λ“μ„ μμ •λ¦¬ν•΄μ„ λ§λ“¤λ©΄ λ‹¨μ μ€ μ‘λ‹¤.
### π“ Component
    - μ§μ ‘ λΉ ν΄λμ¤μ— λ¶™μ—¬λ„λμ§€λ§ μ΄ μ• λ…Έν…μ΄μ…μ„ λ©”νƒ€μ• λ…Έν…μ΄μ…μΌλ΅ κ°€μ§€κ³ μλ” μ• λ…Έν…μ΄μ…μΌλ΅ λ¶™μ—¬λ„ μ»΄ν¬λ„νΈλΌλ” λ¶™μΈκ²ƒκ³Ό λ™μΌν• ν¨κ³Όλ‹¤.
### π“ Meta Annotation
    - μ• λ…Έν…μ΄μ… μ„μ— λ¶™μ€ μ• λ…Έν…μ΄μ…

5. μ• λ…Έν…μ΄μ…μ„ μ§μ ‘ λ§λ“¤μ–΄λ³΄μ 
    - μ• λ…Έν…μ΄μ…μ„ μ²μ μƒμ„±ν•λ©΄ κΌ­ λ¶™μ—¬μ¤μ•Όν•λ”κ² μλ‹¤.
      - @Retention() : μ΄ μ• λ…Έν…μ΄μ…μ΄ μ–΄λ””κΉμ§€ μ‚΄μ•„μμ„κ²ƒμΈκ°€ μ–΄λ””κΉμ§€ μ μ§€λ κ²ƒμΈκ°€ μΌλ‹¨ RUNTIMEμΌλ΅ μ§€μ •
```java
@Retention()
public @interface MyComponent {
}

```